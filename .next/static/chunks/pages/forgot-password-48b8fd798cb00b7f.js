(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{2036:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forgot-password",function(){return r(7716)}])},558:function(e,s,r){"use strict";var t=r(5893);let a=e=>{let{children:s}=e;return(0,t.jsx)("div",{className:"flex absolute inset-0 items-center flex-col sm:justify-center px-4 pt-20 sm:pt-6",children:(0,t.jsx)("div",{className:"w-full max-w-sm px-6 sm:px-8 py-4 shadow-sm sm:border overflow-hidden rounded-md bg-white",children:s})})};s.Z=a},7970:function(e,s,r){"use strict";var t=r(5893),a=r(2175);let i=e=>{let{...s}=e;return(0,t.jsx)("div",{className:"h-4",children:(0,t.jsx)(a.Bc,{component:"div",className:"pl-6 font-light text-left text-xs text-red-500",name:s.name})})};s.Z=i},7716:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return k}});var t=r(5893),a=r(7294),i=r(9473),n=r(1163),l=r(558),o=r(1017),c=r(2913),d=r(624),m=r(7970),u=r(2175),x=r(4231),h=r(2920),f=r(4104),p=function(e){let{setScreen:s}=e,[r,i]=(0,a.useState)(!1),p=(0,n.useRouter)();return(0,t.jsx)(u.J9,{initialValues:{email:""},validationSchema:x.Ry({email:x.Z_().email("Invalid email address").required("Email is required")}),onSubmit:(e,r)=>{let{setSubmitting:t}=r;setTimeout(async()=>{i(!0),await f.Z.post("/api/v1/user/forgetPassword",e).then(e=>{e.data.error?(h.Am.error(e.data.message),i(!1)):s("MAILSENT")}),i(!1),t(!1)},400)},children:(0,t.jsxs)(l.Z,{children:[(0,t.jsx)("button",{onClick:()=>p.push("/login"),children:(0,t.jsx)(c.Z,{className:"w-6 h-6 text-primary-500"})}),(0,t.jsx)("h1",{className:"text-xl font-bold mt-4",children:"Forgot Password"}),(0,t.jsx)("h6",{className:"text-xs py-2",children:"We will send an email to your registered email address. Enter your registered email below"}),(0,t.jsxs)(u.l0,{className:"flex flex-col mt-6 pb-24",children:[(0,t.jsx)("div",{className:"flex mt-4"}),(0,t.jsxs)("div",{className:"relative flex border-b border-gray-300 py-1 pr-3 focus-within:border-primary-200 focus-within:ring-0 focus-within:ring-primary-500",children:[(0,t.jsx)("div",{className:"pr-2 flex items-center",children:(0,t.jsx)(d.Z,{className:"h-3 w-3"})}),(0,t.jsx)(u.gN,{type:"text",name:"email",className:"block w-full border-0 p-0 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-0 sm:text-sm",placeholder:"Email"})]}),(0,t.jsx)(m.Z,{name:"email"}),(0,t.jsx)(o.sM,{isLoading:r,type:"submit",className:"w-full mt-6",children:"Reset Password"})]})]})})},w=r(6186),j=function(e){let{setScreen:s}=e,[r,i]=(0,a.useState)(!1);return(0,t.jsx)(u.J9,{initialValues:{reset_password_token:"",password:"",passwordConfirmation:""},validationSchema:x.Ry({reset_password_token:x.Z_().required("Code is required"),password:x.Z_().max(25,"Must be less than 25 characters").min(8,"Must be 8 characters or more").required("Password is required"),passwordConfirmation:x.Z_().required("Please confirm password").oneOf([x.iH("password"),null],"Passwords must match")}),onSubmit:(e,r)=>{let{setSubmitting:t}=r;setTimeout(async()=>{i(!0),await f.Z.post("/api/v1/user/changePassword",e).then(e=>{e.data.error?(h.Am.error(e.data.remarks),i(!1)):(i(!1),s("PASSWORDUPDATED"))}).catch(e=>{400===e.response.status&&(h.Am.error(e.response.data.remarks),i(!1))}),i(!1),t(!1)},400)},children:(0,t.jsxs)(l.Z,{children:[(0,t.jsx)("h1",{className:"text-xl font-bold mt-4",children:"Create New Password"}),(0,t.jsxs)(u.l0,{className:"flex flex-col mt-6 pb-24",children:[(0,t.jsx)("div",{className:"relative flex border-b border-gray-300 py-1 pr-3 focus-within:border-primary-200 focus-within:ring-0 focus-within:ring-primary-500",children:(0,t.jsx)(u.gN,{type:"text",name:"reset_password_token",className:"block w-full border-0 p-0 placeholder-gray-400 focus:outline-none focus:ring-0 sm:text-sm",placeholder:"Code"})}),(0,t.jsx)(m.Z,{name:"reset_password_token"}),(0,t.jsxs)("div",{className:"relative flex border-b border-gray-300 py-1 pr-3 focus-within:border-primary-200 focus-within:ring-0 focus-within:ring-primary-500",children:[(0,t.jsx)("div",{className:"pr-2 flex items-center",children:(0,t.jsx)(w.Z,{className:"h-4 w-4"})}),(0,t.jsx)(u.gN,{type:"password",name:"password",className:"block w-full border-0 p-0 placeholder-gray-400 focus:outline-none focus:ring-0 sm:text-sm",placeholder:"Password"})]}),(0,t.jsx)(m.Z,{name:"password"}),(0,t.jsxs)("div",{className:"relative flex border-b border-gray-300 py-1 pr-3 focus-within:border-primary-200 focus-within:ring-0 focus-within:ring-primary-500",children:[(0,t.jsx)("div",{className:"pr-2 flex items-center",children:(0,t.jsx)(w.Z,{className:"h-4 w-4"})}),(0,t.jsx)(u.gN,{type:"password",name:"passwordConfirmation",className:"block w-full border-0 p-0 placeholder-gray-400 focus:outline-none focus:ring-0 sm:text-sm",placeholder:"Confirm Password"})]}),(0,t.jsx)(m.Z,{name:"passwordConfirmation"}),(0,t.jsx)("div",{className:"mt-4"}),(0,t.jsx)(o.$A,{isLoading:r,type:"submit",children:"Reset"})]})]})})},g=r(5675),b=r.n(g),v=function(e){let{setScreen:s}=e;return(0,t.jsx)(l.Z,{children:(0,t.jsxs)("div",{className:"min-h-sm relative flex w-full flex-col items-center",children:[(0,t.jsx)("div",{className:"flex justify-center py-4",children:(0,t.jsx)(b(),{src:"/images/secure-mail.png",alt:"mailicon",width:48,height:48,objectFit:"contain",loading:"eager"})}),(0,t.jsx)("div",{className:"text-xl font-semibold text-gray-500 text-center",children:"Check your email"}),(0,t.jsx)("p",{className:"text-center",children:"We have sent a password recovery instruction to your email"}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{onClick:()=>s("UPDATEPASSWORD"),className:"bg-primary-500 px-4 py-1 rounded-md shadow-sm text-white font-semibold my-8",children:"UPDATE PASSWORD"})}),(0,t.jsxs)("div",{className:"text-center w-full text-xs text-gray-500",children:[(0,t.jsx)("h6",{children:"Did not receive email ? check spam folder"}),(0,t.jsx)("button",{onClick:()=>s("SENDMAIL"),className:"text-primary-500",children:"Try another email"})]})]})})},y=r(50);function N(){let e=(0,n.useRouter)();return(0,t.jsx)(l.Z,{children:(0,t.jsxs)("div",{className:"flex flex-col w-full min-h-sm relative",children:[(0,t.jsx)("div",{className:"flex justify-center py-4",children:(0,t.jsx)(y.Z,{className:"w-16 h-16 text-primary-500"})}),(0,t.jsx)("div",{className:"text-xl font-semibold text-gray-500 text-center",children:"Password updated successfully"}),(0,t.jsx)(o.$A,{onClick:()=>e.push("/login"),className:"mt-10",children:"Back to Login"})]})})}function k(){let e=(0,n.useRouter)(),{user:s}=(0,i.v9)(e=>e.auth),[r,l]=(0,a.useState)("SENDMAIL");return(0,a.useEffect)(()=>{s&&e.push("/")},[s]),(0,t.jsxs)("div",{className:"h-full flex flex-col justify-center items-end",children:["SENDMAIL"===r&&(0,t.jsx)(p,{setScreen:l}),"MAILSENT"===r&&(0,t.jsx)(v,{setScreen:l}),"UPDATEPASSWORD"===r&&(0,t.jsx)(j,{setScreen:l}),"PASSWORDUPDATED"===r&&(0,t.jsx)(N,{})]})}},2913:function(e,s,r){"use strict";var t=r(7294);let a=t.forwardRef(function({title:e,titleId:s,...r},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":s},r),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"}))});s.Z=a},624:function(e,s,r){"use strict";var t=r(7294);let a=t.forwardRef(function({title:e,titleId:s,...r},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":s},r),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",d:"M16.5 12a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25"}))});s.Z=a},50:function(e,s,r){"use strict";var t=r(7294);let a=t.forwardRef(function({title:e,titleId:s,...r},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":s},r),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))});s.Z=a},6186:function(e,s,r){"use strict";var t=r(7294);let a=t.forwardRef(function({title:e,titleId:s,...r},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":s},r),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"}))});s.Z=a}},function(e){e.O(0,[141,774,888,179],function(){return e(e.s=2036)}),_N_E=e.O()}]);